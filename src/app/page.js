"use server"
import Animecard from '@/components/CardComponent/Animecards'
import Herosection from '@/components/home/Herosection'
import Navbarcomponent from '@/components/navbar/Navbar'
import { TrendingAnilist, Top100Anilist, SeasonalAnilist } from '@/lib/Anilistfunctions'
import React from 'react'
import { MotionDiv } from '@/utils/MotionDiv'
import VerticalList from '@/components/home/VerticalList'
import ContinueWatching from '@/components/home/ContinueWatching'
import RecentEpisodes from '@/components/home/RecentEpisodes'
import { getAuthSession } from './api/auth/[...nextauth]/route'
import { redis } from '@/lib/rediscache'
// import { getWatchHistory } from '@/lib/EpHistoryfunctions'

async function getHomePage() {
  try {
    let cachedData;
    if (redis) {
      cachedData = await redis.get(`homepage`);
      if (!JSON.parse(cachedData)) {
        await redis.del(`homepage`);
        cachedData = null;
      }
    }
    if (cachedData) {
      const { herodata, top100data, seasonaldata } = JSON.parse(cachedData);
      return { herodata, top100data, seasonaldata };
    } else {
      const [herodata, top100data, seasonaldata] = await Promise.all([
        TrendingAnilist(),
        Top100Anilist(),
        SeasonalAnilist()
      ]);
      const cacheTime = 60 * 60 * 2;
      if (redis) {
        await redis.set(`homepage`, JSON.stringify({ herodata, top100data, seasonaldata }), "EX", cacheTime);
      }
      return { herodata, top100data, seasonaldata };
    }
  } catch (error) {
    console.error("Error fetching homepage from anilist: ", error);
    return null;
  }
}

async function Home() {
  const session = await getAuthSession();
  const { herodata = [], top100data = [], seasonaldata = [] } = await getHomePage();
  // const history = await getWatchHistory();
  // console.log(history)

  return (
    <div>
      <Navbarcomponent home={true} />
      <Herosection data={herodata} />
      <div className='sm:max-w-[97%] md:max-w-[95%] lg:max-w-[90%] xl:max-w-[85%] mx-auto flex flex-col md:gap-11 sm:gap-7 gap-5 mt-8'>
        <MotionDiv
          initial={{ y: 10, opacity: 0 }}
          whileInView={{ y: 0, opacity: 1 }}
          transition={{ duration: 0.4 }}
          viewport={{ once: true }}
        >
          <Animecard data={herodata} cardid="Trending Now" />
        </MotionDiv>
        <MotionDiv
          initial={{ y: 10, opacity: 0 }}
          whileInView={{ y: 0, opacity: 1 }}
          transition={{ duration: 0.4 }}
          viewport={{ once: true }}
        >
  <div class="relative w-full max-w-[1300px] 2xl:max-w-[85%] mx-auto my-5 mb-9 lg:my-8 px-1 md:pb-3 "><a class="text-lg sm:text-xl lg:text-2xl font-medium lg:font-normal tracking-[0.015em] lg:tracking-normal hover:brightness-90 mb-3 md:mb-5 font-['Poppins'] items-center gap-2 flex px-1" href="/recent-episodes"><div class="h-6 md:h-8 rounded-md w-[6px] bg-[var(--pink)] "></div>Recently Added<span class="ml-auto md:m-0"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lg:hidden"><path d="m9 18 6-6-6-6"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="hidden lg:block"><path d="m9 18 6-6-6-6"></path></svg></span></a><div class="flex overflow-x-auto sm:flex-wrap px-1 mx-auto "><div class="w-[80%] sm:w-1/2 md:w-1/3 xl:w-1/4 recent-wrap flex-shrink-0 p-[.3rem] mb-1 lg:mb-2 aspect-[16/8.7]"><div class="w-full h-full relative flex rounded-xl aspect-video flex-col gap-2 overflow-hidden group smoothie"><div class="w-full h-full bg-[var(--lightt)]"><span class=" lazy-load-image-background blur lazy-load-image-loaded" style="color: transparent; display: inline-block; height: 100%; width: 100%;"><img width="100%" height="100%" src="https://artworks.thetvdb.com/banners/v4/series/414096/backgrounds/634dc1ea72b41.jpg" class="h-full object-cover group-hover:scale-[1.05] group-hover:brightness-75 !transition-all !duration-500 !ease-out object-center w-full "></span></div><a class="absolute opacity-0 !scale-100 bg-white/40 backdrop-blur hover:bg-[var(--pinkk)] z-20 flex items-center justify-center p-3 xl:p-[.6rem] rounded-full shadow group-hover:opacity-90 smoothie top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%]" href="/watch/155645?ep=36"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="white" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="brightness-200 p-0"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg></a><div class="absolute gap-5 items-end group-hover:backdrop-blur-[1px] font-popin tracking-wider recent-grad smoothie flex w-full h-full top-0 left-0"><div class="z-10 w-full py-[.4rem] sm:py-2 px-3 flex flex-col gap-[1px]"><a class="font-medium !leading-tight !tracking-wide !capitalize text-[.85rem] 2xl:text-sm line-clamp-1 " href="/watch/155645?ep=36">Urusei Yatsura (2022) Season 3</a><div class="!flex font-popin text-gray-200 text-[.7rem] pl-[1px] !line-clamp-1 font-light gap-2"><span class="flex-shrink-0 hidden">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Comedy</button><span class="flex-shrink-0 ">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Romance</button><span class="flex-shrink-0 ">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Sci-Fi</button></div></div><div class="flex-shrink-0 absolute top-0 right-0 flex items-center justify-center gap-[.4rem] bg-black/60 backdrop-blur font-light xl:font-normal text-white !text-xs !italic line-clamp-1 px-2 p-1 rounded-bl-lg tracking-wider"><span class="relative inline-flex mr-1 items-center justify-center size-3"><span class="absolute aspect-square size-2 rounded-full pingg bg-green-400"></span><span class="aspect-square inline-block size-2 rounded-full bg-green-400"></span></span>Episode 36</div></div></div></div><div class="w-[80%] sm:w-1/2 md:w-1/3 xl:w-1/4 recent-wrap flex-shrink-0 p-[.3rem] mb-1 lg:mb-2 aspect-[16/8.7]"><div class="w-full h-full relative flex rounded-xl aspect-video flex-col gap-2 overflow-hidden group smoothie"><div class="w-full h-full bg-[var(--lightt)]"><span class=" lazy-load-image-background blur lazy-load-image-loaded" style="color: transparent; display: inline-block; height: 100%; width: 100%;"><img width="100%" height="100%" src="https://artworks.thetvdb.com/banners/v4/series/429536/backgrounds/6618389f684d6.jpg" class="h-full object-cover group-hover:scale-[1.05] group-hover:brightness-75 !transition-all !duration-500 !ease-out object-center w-full "></span></div><a class="absolute opacity-0 !scale-100 bg-white/40 backdrop-blur hover:bg-[var(--pinkk)] z-20 flex items-center justify-center p-3 xl:p-[.6rem] rounded-full shadow group-hover:opacity-90 smoothie top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%]" href="/watch/160090?ep=1"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="white" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="brightness-200 p-0"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg></a><div class="absolute gap-5 items-end group-hover:backdrop-blur-[1px] font-popin tracking-wider recent-grad smoothie flex w-full h-full top-0 left-0"><div class="z-10 w-full py-[.4rem] sm:py-2 px-3 flex flex-col gap-[1px]"><a class="font-medium !leading-tight !tracking-wide !capitalize text-[.85rem] 2xl:text-sm line-clamp-1 " href="/watch/160090?ep=1">Mysterious Disappearances</a><div class="!flex font-popin text-gray-200 text-[.7rem] pl-[1px] !line-clamp-1 font-light gap-2"><span class="flex-shrink-0 hidden">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Ecchi</button><span class="flex-shrink-0 ">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Mystery</button><span class="flex-shrink-0 ">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Romance</button></div></div><div class="flex-shrink-0 absolute top-0 right-0 flex items-center justify-center gap-[.4rem] bg-black/60 backdrop-blur font-light xl:font-normal text-white !text-xs !italic line-clamp-1 px-2 p-1 rounded-bl-lg tracking-wider"><span class="relative inline-flex mr-1 items-center justify-center size-3"><span class="absolute aspect-square size-2 rounded-full pingg bg-green-400"></span><span class="aspect-square inline-block size-2 rounded-full bg-green-400"></span></span>Episode 1</div></div></div></div><div class="w-[80%] sm:w-1/2 md:w-1/3 xl:w-1/4 recent-wrap flex-shrink-0 p-[.3rem] mb-1 lg:mb-2 aspect-[16/8.7]"><div class="w-full h-full relative flex rounded-xl aspect-video flex-col gap-2 overflow-hidden group smoothie"><div class="w-full h-full bg-[var(--lightt)]"><span class=" lazy-load-image-background blur lazy-load-image-loaded" style="color: transparent; display: inline-block; height: 100%; width: 100%;"><img width="100%" height="100%" src="https://s4.anilist.co/file/anilistcdn/media/anime/banner/151380-EWQOtJmxe3JY.jpg" class="h-full object-cover group-hover:scale-[1.05] group-hover:brightness-75 !transition-all !duration-500 !ease-out object-center w-full "></span></div><a class="absolute opacity-0 !scale-100 bg-white/40 backdrop-blur hover:bg-[var(--pinkk)] z-20 flex items-center justify-center p-3 xl:p-[.6rem] rounded-full shadow group-hover:opacity-90 smoothie top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%]" href="/watch/151380?ep=1"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="white" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="brightness-200 p-0"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg></a><div class="absolute gap-5 items-end group-hover:backdrop-blur-[1px] font-popin tracking-wider recent-grad smoothie flex w-full h-full top-0 left-0"><div class="z-10 w-full py-[.4rem] sm:py-2 px-3 flex flex-col gap-[1px]"><a class="font-medium !leading-tight !tracking-wide !capitalize text-[.85rem] 2xl:text-sm line-clamp-1 " href="/watch/151380?ep=1">Date A Live V</a><div class="!flex font-popin text-gray-200 text-[.7rem] pl-[1px] !line-clamp-1 font-light gap-2"><span class="flex-shrink-0 hidden">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Action</button><span class="flex-shrink-0 ">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Comedy</button><span class="flex-shrink-0 ">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Ecchi</button></div></div><div class="flex-shrink-0 absolute top-0 right-0 flex items-center justify-center gap-[.4rem] bg-black/60 backdrop-blur font-light xl:font-normal text-white !text-xs !italic line-clamp-1 px-2 p-1 rounded-bl-lg tracking-wider"><span class="relative inline-flex mr-1 items-center justify-center size-3"><span class="absolute aspect-square size-2 rounded-full pingg bg-green-400"></span><span class="aspect-square inline-block size-2 rounded-full bg-green-400"></span></span>Episode 1</div></div></div></div><div class="w-[80%] sm:w-1/2 md:w-1/3 xl:w-1/4 recent-wrap flex-shrink-0 p-[.3rem] mb-1 lg:mb-2 aspect-[16/8.7]"><div class="w-full h-full relative flex rounded-xl aspect-video flex-col gap-2 overflow-hidden group smoothie"><div class="w-full h-full bg-[var(--lightt)]"><span class=" lazy-load-image-background blur lazy-load-image-loaded" style="color: transparent; display: inline-block; height: 100%; width: 100%;"><img width="100%" height="100%" src="https://artworks.thetvdb.com/banners/series/371310/backgrounds/5fef65bea1666.jpg" class="h-full object-cover group-hover:scale-[1.05] group-hover:brightness-75 !transition-all !duration-500 !ease-out object-center w-full "></span></div><a class="absolute opacity-0 !scale-100 bg-white/40 backdrop-blur hover:bg-[var(--pinkk)] z-20 flex items-center justify-center p-3 xl:p-[.6rem] rounded-full shadow group-hover:opacity-90 smoothie top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%]" href="/watch/166873?ep=13"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="white" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="brightness-200 p-0"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg></a><div class="absolute gap-5 items-end group-hover:backdrop-blur-[1px] font-popin tracking-wider recent-grad smoothie flex w-full h-full top-0 left-0"><div class="z-10 w-full py-[.4rem] sm:py-2 px-3 flex flex-col gap-[1px]"><a class="font-medium !leading-tight !tracking-wide !capitalize text-[.85rem] 2xl:text-sm line-clamp-1 " href="/watch/166873?ep=13">Mushoku Tensei: Jobless Reincarnation Season 2 Part 2</a><div class="!flex font-popin text-gray-200 text-[.7rem] pl-[1px] !line-clamp-1 font-light gap-2"><span class="flex-shrink-0 hidden">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Adventure</button><span class="flex-shrink-0 ">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Drama</button><span class="flex-shrink-0 ">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Fantasy</button></div></div><div class="flex-shrink-0 absolute top-0 right-0 flex items-center justify-center gap-[.4rem] bg-black/60 backdrop-blur font-light xl:font-normal text-white !text-xs !italic line-clamp-1 px-2 p-1 rounded-bl-lg tracking-wider"><span class="relative inline-flex mr-1 items-center justify-center size-3"><span class="absolute aspect-square size-2 rounded-full pingg bg-green-400"></span><span class="aspect-square inline-block size-2 rounded-full bg-green-400"></span></span>Episode 13</div></div></div></div><div class="w-[80%] sm:w-1/2 md:w-1/3 xl:w-1/4 recent-wrap flex-shrink-0 p-[.3rem] mb-1 lg:mb-2 aspect-[16/8.7]"><div class="w-full h-full relative flex rounded-xl aspect-video flex-col gap-2 overflow-hidden group smoothie"><div class="w-full h-full bg-[var(--lightt)]"><span class=" lazy-load-image-background blur lazy-load-image-loaded" style="color: transparent; display: inline-block; height: 100%; width: 100%;"><img width="100%" height="100%" src="https://artworks.thetvdb.com/banners/v4/series/417983/backgrounds/6474a8510e7aa.jpg" class="h-full object-cover group-hover:scale-[1.05] group-hover:brightness-75 !transition-all !duration-500 !ease-out object-center w-full "></span></div><a class="absolute opacity-0 !scale-100 bg-white/40 backdrop-blur hover:bg-[var(--pinkk)] z-20 flex items-center justify-center p-3 xl:p-[.6rem] rounded-full shadow group-hover:opacity-90 smoothie top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%]" href="/watch/146493?ep=24"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="white" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="brightness-200 p-0"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg></a><div class="absolute gap-5 items-end group-hover:backdrop-blur-[1px] font-popin tracking-wider recent-grad smoothie flex w-full h-full top-0 left-0"><div class="z-10 w-full py-[.4rem] sm:py-2 px-3 flex flex-col gap-[1px]"><a class="font-medium !leading-tight !tracking-wide !capitalize text-[.85rem] 2xl:text-sm line-clamp-1 " href="/watch/146493?ep=24">Ragna Crimson</a><div class="!flex font-popin text-gray-200 text-[.7rem] pl-[1px] !line-clamp-1 font-light gap-2"><span class="flex-shrink-0 hidden">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Action</button><span class="flex-shrink-0 ">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Adventure</button><span class="flex-shrink-0 ">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Fantasy</button></div></div><div class="flex-shrink-0 absolute top-0 right-0 flex items-center justify-center gap-[.4rem] bg-black/60 backdrop-blur font-light xl:font-normal text-white !text-xs !italic line-clamp-1 px-2 p-1 rounded-bl-lg tracking-wider"><span class="relative inline-flex mr-1 items-center justify-center size-3"><span class="absolute aspect-square size-2 rounded-full pingg bg-green-400"></span><span class="aspect-square inline-block size-2 rounded-full bg-green-400"></span></span>Episode 24</div></div></div></div><div class="w-[80%] sm:w-1/2 md:w-1/3 xl:w-1/4 recent-wrap flex-shrink-0 p-[.3rem] mb-1 lg:mb-2 aspect-[16/8.7]"><div class="w-full h-full relative flex rounded-xl aspect-video flex-col gap-2 overflow-hidden group smoothie"><div class="w-full h-full bg-[var(--lightt)]"><span class=" lazy-load-image-background blur lazy-load-image-loaded" style="color: transparent; display: inline-block; height: 100%; width: 100%;"><img width="100%" height="100%" src="https://artworks.thetvdb.com/banners/v4/series/431162/backgrounds/64e7424360eef.jpg" class="h-full object-cover group-hover:scale-[1.05] group-hover:brightness-75 !transition-all !duration-500 !ease-out object-center w-full "></span></div><a class="absolute opacity-0 !scale-100 bg-white/40 backdrop-blur hover:bg-[var(--pinkk)] z-20 flex items-center justify-center p-3 xl:p-[.6rem] rounded-full shadow group-hover:opacity-90 smoothie top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%]" href="/watch/161645?ep=24"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="white" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="brightness-200 p-0"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg></a><div class="absolute gap-5 items-end group-hover:backdrop-blur-[1px] font-popin tracking-wider recent-grad smoothie flex w-full h-full top-0 left-0"><div class="z-10 w-full py-[.4rem] sm:py-2 px-3 flex flex-col gap-[1px]"><a class="font-medium !leading-tight !tracking-wide !capitalize text-[.85rem] 2xl:text-sm line-clamp-1 " href="/watch/161645?ep=24">The Apothecary Diaries</a><div class="!flex font-popin text-gray-200 text-[.7rem] pl-[1px] !line-clamp-1 font-light gap-2"><span class="flex-shrink-0 hidden">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Drama</button><span class="flex-shrink-0 ">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Mystery</button><span class="flex-shrink-0 ">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Romance</button></div></div><div class="flex-shrink-0 absolute top-0 right-0 flex items-center justify-center gap-[.4rem] bg-black/60 backdrop-blur font-light xl:font-normal text-white !text-xs !italic line-clamp-1 px-2 p-1 rounded-bl-lg tracking-wider"><span class="relative inline-flex mr-1 items-center justify-center size-3"><span class="absolute aspect-square size-2 rounded-full pingg bg-green-400"></span><span class="aspect-square inline-block size-2 rounded-full bg-green-400"></span></span>Episode 24</div></div></div></div><div class="w-[80%] sm:w-1/2 md:w-1/3 xl:w-1/4 recent-wrap flex-shrink-0 p-[.3rem] mb-1 lg:mb-2 aspect-[16/8.7]"><div class="w-full h-full relative flex rounded-xl aspect-video flex-col gap-2 overflow-hidden group smoothie"><div class="w-full h-full bg-[var(--lightt)]"><span class=" lazy-load-image-background blur lazy-load-image-loaded" style="color: transparent; display: inline-block; height: 100%; width: 100%;"><img width="100%" height="100%" src="https://media.kitsu.io/anime/47195/cover_image/29ff0efedf11395a783b79e0da4309df.png" class="h-full object-cover group-hover:scale-[1.05] group-hover:brightness-75 !transition-all !duration-500 !ease-out object-center w-full "></span></div><a class="absolute opacity-0 !scale-100 bg-white/40 backdrop-blur hover:bg-[var(--pinkk)] z-20 flex items-center justify-center p-3 xl:p-[.6rem] rounded-full shadow group-hover:opacity-90 smoothie top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%]" href="/watch/162803?ep=24"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="white" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="brightness-200 p-0"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg></a><div class="absolute gap-5 items-end group-hover:backdrop-blur-[1px] font-popin tracking-wider recent-grad smoothie flex w-full h-full top-0 left-0"><div class="z-10 w-full py-[.4rem] sm:py-2 px-3 flex flex-col gap-[1px]"><a class="font-medium !leading-tight !tracking-wide !capitalize text-[.85rem] 2xl:text-sm line-clamp-1 " href="/watch/162803?ep=24">Dead Mount Death Play Part 2</a><div class="!flex font-popin text-gray-200 text-[.7rem] pl-[1px] !line-clamp-1 font-light gap-2"><span class="flex-shrink-0 hidden">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Action</button><span class="flex-shrink-0 ">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Fantasy</button><span class="flex-shrink-0 ">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Supernatural</button></div></div><div class="flex-shrink-0 absolute top-0 right-0 flex items-center justify-center gap-[.4rem] bg-black/60 backdrop-blur font-light xl:font-normal text-white !text-xs !italic line-clamp-1 px-2 p-1 rounded-bl-lg tracking-wider"><span class="relative inline-flex mr-1 items-center justify-center size-3"><span class="absolute aspect-square size-2 rounded-full pingg bg-green-400"></span><span class="aspect-square inline-block size-2 rounded-full bg-green-400"></span></span>Episode 24</div></div></div></div><div class="w-[80%] sm:w-1/2 md:w-1/3 xl:w-1/4 recent-wrap flex-shrink-0 p-[.3rem] mb-1 lg:mb-2 aspect-[16/8.7]"><div class="w-full h-full relative flex rounded-xl aspect-video flex-col gap-2 overflow-hidden group smoothie"><div class="w-full h-full bg-[var(--lightt)]"><span class=" lazy-load-image-background blur lazy-load-image-loaded" style="color: transparent; display: inline-block; height: 100%; width: 100%;"><img width="100%" height="100%" src="https://artworks.thetvdb.com/banners/v4/series/413466/backgrounds/651acb1413907.jpg" class="h-full object-cover group-hover:scale-[1.05] group-hover:brightness-75 !transition-all !duration-500 !ease-out object-center w-full "></span></div><a class="absolute opacity-0 !scale-100 bg-white/40 backdrop-blur hover:bg-[var(--pinkk)] z-20 flex items-center justify-center p-3 xl:p-[.6rem] rounded-full shadow group-hover:opacity-90 smoothie top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%]" href="/watch/142666?ep=13"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="white" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="brightness-200 p-0"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg></a><div class="absolute gap-5 items-end group-hover:backdrop-blur-[1px] font-popin tracking-wider recent-grad smoothie flex w-full h-full top-0 left-0"><div class="z-10 w-full py-[.4rem] sm:py-2 px-3 flex flex-col gap-[1px]"><a class="font-medium !leading-tight !tracking-wide !capitalize text-[.85rem] 2xl:text-sm line-clamp-1 " href="/watch/142666?ep=13">Migi&amp;Dali</a><div class="!flex font-popin text-gray-200 text-[.7rem] pl-[1px] !line-clamp-1 font-light gap-2"><span class="flex-shrink-0 hidden">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Drama</button><span class="flex-shrink-0 ">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Mystery</button><span class="flex-shrink-0 ">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Slice of Life</button></div></div><div class="flex-shrink-0 absolute top-0 right-0 flex items-center justify-center gap-[.4rem] bg-black/60 backdrop-blur font-light xl:font-normal text-white !text-xs !italic line-clamp-1 px-2 p-1 rounded-bl-lg tracking-wider"><span class="relative inline-flex mr-1 items-center justify-center size-3"><span class="absolute aspect-square size-2 rounded-full pingg bg-green-400"></span><span class="aspect-square inline-block size-2 rounded-full bg-green-400"></span></span>Episode 13</div></div></div></div><div class="w-[80%] sm:w-1/2 md:w-1/3 xl:w-1/4 recent-wrap flex-shrink-0 p-[.3rem] mb-1 lg:mb-2 aspect-[16/8.7]"><div class="w-full h-full relative flex rounded-xl aspect-video flex-col gap-2 overflow-hidden group smoothie"><div class="w-full h-full bg-[var(--lightt)]"><span class=" lazy-load-image-background blur lazy-load-image-loaded" style="color: transparent; display: inline-block; height: 100%; width: 100%;"><img width="100%" height="100%" src="https://artworks.thetvdb.com/banners/v4/series/430544/backgrounds/64fedfa13513f.jpg" class="h-full object-cover group-hover:scale-[1.05] group-hover:brightness-75 !transition-all !duration-500 !ease-out object-center w-full "></span></div><a class="absolute opacity-0 !scale-100 bg-white/40 backdrop-blur hover:bg-[var(--pinkk)] z-20 flex items-center justify-center p-3 xl:p-[.6rem] rounded-full shadow group-hover:opacity-90 smoothie top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%]" href="/watch/160900?ep=12"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="white" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="brightness-200 p-0"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg></a><div class="absolute gap-5 items-end group-hover:backdrop-blur-[1px] font-popin tracking-wider recent-grad smoothie flex w-full h-full top-0 left-0"><div class="z-10 w-full py-[.4rem] sm:py-2 px-3 flex flex-col gap-[1px]"><a class="font-medium !leading-tight !tracking-wide !capitalize text-[.85rem] 2xl:text-sm line-clamp-1 " href="/watch/160900?ep=12">The Kingdoms of Ruin</a><div class="!flex font-popin text-gray-200 text-[.7rem] pl-[1px] !line-clamp-1 font-light gap-2"><span class="flex-shrink-0 hidden">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Action</button><span class="flex-shrink-0 ">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Drama</button><span class="flex-shrink-0 ">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Fantasy</button></div></div><div class="flex-shrink-0 absolute top-0 right-0 flex items-center justify-center gap-[.4rem] bg-black/60 backdrop-blur font-light xl:font-normal text-white !text-xs !italic line-clamp-1 px-2 p-1 rounded-bl-lg tracking-wider"><span class="relative inline-flex mr-1 items-center justify-center size-3"><span class="absolute aspect-square size-2 rounded-full pingg bg-green-400"></span><span class="aspect-square inline-block size-2 rounded-full bg-green-400"></span></span>Episode 12</div></div></div></div><div class="w-[80%] sm:w-1/2 md:w-1/3 xl:w-1/4 recent-wrap flex-shrink-0 p-[.3rem] mb-1 lg:mb-2 aspect-[16/8.7]"><div class="w-full h-full relative flex rounded-xl aspect-video flex-col gap-2 overflow-hidden group smoothie"><div class="w-full h-full bg-[var(--lightt)]"><span class=" lazy-load-image-background blur lazy-load-image-loaded" style="color: transparent; display: inline-block; height: 100%; width: 100%;"><img width="100%" height="100%" src="https://artworks.thetvdb.com/banners/v4/series/424535/backgrounds/6532f0116c346.jpg" class="h-full object-cover group-hover:scale-[1.05] group-hover:brightness-75 !transition-all !duration-500 !ease-out object-center w-full "></span></div><a class="absolute opacity-0 !scale-100 bg-white/40 backdrop-blur hover:bg-[var(--pinkk)] z-20 flex items-center justify-center p-3 xl:p-[.6rem] rounded-full shadow group-hover:opacity-90 smoothie top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%]" href="/watch/154459?ep=12"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="white" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="brightness-200 p-0"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg></a><div class="absolute gap-5 items-end group-hover:backdrop-blur-[1px] font-popin tracking-wider recent-grad smoothie flex w-full h-full top-0 left-0"><div class="z-10 w-full py-[.4rem] sm:py-2 px-3 flex flex-col gap-[1px]"><a class="font-medium !leading-tight !tracking-wide !capitalize text-[.85rem] 2xl:text-sm line-clamp-1 " href="/watch/154459?ep=12">Our Dating Story: The Experienced You and The Inexperienced Me</a><div class="!flex font-popin text-gray-200 text-[.7rem] pl-[1px] !line-clamp-1 font-light gap-2"><span class="flex-shrink-0 hidden">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Romance</button><span class="flex-shrink-0 ">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Drama</button><span class="flex-shrink-0 ">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Comedy</button></div></div><div class="flex-shrink-0 absolute top-0 right-0 flex items-center justify-center gap-[.4rem] bg-black/60 backdrop-blur font-light xl:font-normal text-white !text-xs !italic line-clamp-1 px-2 p-1 rounded-bl-lg tracking-wider"><span class="relative inline-flex mr-1 items-center justify-center size-3"><span class="absolute aspect-square size-2 rounded-full pingg bg-green-400"></span><span class="aspect-square inline-block size-2 rounded-full bg-green-400"></span></span>Episode 12</div></div></div></div><div class="w-[80%] sm:w-1/2 md:w-1/3 xl:w-1/4 recent-wrap flex-shrink-0 p-[.3rem] mb-1 lg:mb-2 aspect-[16/8.7]"><div class="w-full h-full relative flex rounded-xl aspect-video flex-col gap-2 overflow-hidden group smoothie"><div class="w-full h-full bg-[var(--lightt)]"><span class=" lazy-load-image-background blur lazy-load-image-loaded" style="color: transparent; display: inline-block; height: 100%; width: 100%;"><img width="100%" height="100%" src="https://media.kitsu.io/anime/47246/cover_image/b59ea923a14198c0686905ccfbff5831.png" class="h-full object-cover group-hover:scale-[1.05] group-hover:brightness-75 !transition-all !duration-500 !ease-out object-center w-full "></span></div><a class="absolute opacity-0 !scale-100 bg-white/40 backdrop-blur hover:bg-[var(--pinkk)] z-20 flex items-center justify-center p-3 xl:p-[.6rem] rounded-full shadow group-hover:opacity-90 smoothie top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%]" href="/watch/162670?ep=22"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="white" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="brightness-200 p-0"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg></a><div class="absolute gap-5 items-end group-hover:backdrop-blur-[1px] font-popin tracking-wider recent-grad smoothie flex w-full h-full top-0 left-0"><div class="z-10 w-full py-[.4rem] sm:py-2 px-3 flex flex-col gap-[1px]"><a class="font-medium !leading-tight !tracking-wide !capitalize text-[.85rem] 2xl:text-sm line-clamp-1 " href="/watch/162670?ep=22">Dr. STONE New World Part 2</a><div class="!flex font-popin text-gray-200 text-[.7rem] pl-[1px] !line-clamp-1 font-light gap-2"><span class="flex-shrink-0 hidden">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Action</button><span class="flex-shrink-0 ">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Adventure</button><span class="flex-shrink-0 ">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Comedy</button></div></div><div class="flex-shrink-0 absolute top-0 right-0 flex items-center justify-center gap-[.4rem] bg-black/60 backdrop-blur font-light xl:font-normal text-white !text-xs !italic line-clamp-1 px-2 p-1 rounded-bl-lg tracking-wider"><span class="relative inline-flex mr-1 items-center justify-center size-3"><span class="absolute aspect-square size-2 rounded-full pingg bg-green-400"></span><span class="aspect-square inline-block size-2 rounded-full bg-green-400"></span></span>Episode 22</div></div></div></div><div class="w-[80%] sm:w-1/2 md:w-1/3 xl:w-1/4 recent-wrap flex-shrink-0 p-[.3rem] mb-1 lg:mb-2 aspect-[16/8.7]"><div class="w-full h-full relative flex rounded-xl aspect-video flex-col gap-2 overflow-hidden group smoothie"><div class="w-full h-full bg-[var(--lightt)]"><span class=" lazy-load-image-background blur lazy-load-image-loaded" style="color: transparent; display: inline-block; height: 100%; width: 100%;"><img width="100%" height="100%" src="https://s4.anilist.co/file/anilistcdn/media/anime/banner/161964-a3MIPlFGpwbo.jpg" class="h-full object-cover group-hover:scale-[1.05] group-hover:brightness-75 !transition-all !duration-500 !ease-out object-center w-full "></span></div><a class="absolute opacity-0 !scale-100 bg-white/40 backdrop-blur hover:bg-[var(--pinkk)] z-20 flex items-center justify-center p-3 xl:p-[.6rem] rounded-full shadow group-hover:opacity-90 smoothie top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%]" href="/watch/161964?ep=12"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="white" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="brightness-200 p-0"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg></a><div class="absolute gap-5 items-end group-hover:backdrop-blur-[1px] font-popin tracking-wider recent-grad smoothie flex w-full h-full top-0 left-0"><div class="z-10 w-full py-[.4rem] sm:py-2 px-3 flex flex-col gap-[1px]"><a class="font-medium !leading-tight !tracking-wide !capitalize text-[.85rem] 2xl:text-sm line-clamp-1 " href="/watch/161964?ep=12">The Eminence in Shadow Season 2</a><div class="!flex font-popin text-gray-200 text-[.7rem] pl-[1px] !line-clamp-1 font-light gap-2"><span class="flex-shrink-0 hidden">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Action</button><span class="flex-shrink-0 ">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Comedy</button><span class="flex-shrink-0 ">•</span><button class="flex-shrink-0 hover:brightness-150 tracking-wide">Fantasy</button></div></div><div class="flex-shrink-0 absolute top-0 right-0 flex items-center justify-center gap-[.4rem] bg-black/60 backdrop-blur font-light xl:font-normal text-white !text-xs !italic line-clamp-1 px-2 p-1 rounded-bl-lg tracking-wider"><span class="relative inline-flex mr-1 items-center justify-center size-3"><span class="absolute aspect-square size-2 rounded-full pingg bg-green-400"></span><span class="aspect-square inline-block size-2 rounded-full bg-green-400"></span></span>Episode 12</div></div></div></div></div><div class="hidden"><button disabled="" class="bg-[var(--lighttt)] p-2 w-[2.5rem]  text-sm  text-center flex items-center justify-center  text-white/[0.5]  "><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevrons-left"><path d="m11 17-5-5 5-5"></path><path d="m18 17-5-5 5-5"></path></svg></button><button disabled="" class="bg-[var(--lighttt)]  p-2 w-[2.5rem]  text-sm  text-center flex items-center justify-center  text-white/[0.5]  "><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-left"><path d="m15 18-6-6 6-6"></path></svg></button><span class="bg-[var(--pink)] p-2  w-[2.5rem] flex items-center justify-center  text-[15px] text-white  ">1</span><button class="bg-[var(--lighttt)]  p-2  w-[2.5rem]  text-sm  text-center flex items-center justify-center  cursor-pointer hover:bg-white/[0.15] hover:text-[var(--pinkk)]  "><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right"><path d="m9 18 6-6-6-6"></path></svg></button><button class="bg-[var(--lighttt)]  p-2 w-[2.5rem]  text-sm  text-center flex items-center justify-center  cursor-pointer hover:bg-white/[0.15] hover:text-[var(--pinkk)]  "><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevrons-right"><path d="m6 17 5-5-5-5"></path><path d="m13 17 5-5-5-5"></path></svg></button></div></div>
          <ContinueWatching session={session} />
        </MotionDiv>
        <MotionDiv
          initial={{ y: 10, opacity: 0 }}
          whileInView={{ y: 0, opacity: 1 }}
          transition={{ duration: 0.4 }}
          viewport={{ once: true }}
        >
          <div className='lg:flex lg:flex-row justify-between lg:gap-20'>
            <VerticalList data={top100data} mobiledata={seasonaldata} id="Top 10 Anime" />
            <VerticalList data={seasonaldata} id="Seasonal Anime" />
          </div>
        </MotionDiv>
      </div>
    </div>
  )
}

export default Home
